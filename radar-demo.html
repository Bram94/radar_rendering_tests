<!doctype html>
<html>
  <head>
    <title>QuadWeather Radar</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width' />
    <meta name="Description" content="View 3D radar for severe storms." />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
    <link rel="stylesheet" href="css/radarstyle.css">
    <link href="https://fonts.googleapis.com/css?family=Oleo+Script&display=swap" rel="stylesheet">
  </head>
  <body>
    <canvas id="texturecolorbar" class="texturecolorbar"></canvas>
    <div id="map" class="mobilemap"></div>
    <script type="x-shader/x-vertex" id="vertexShader">
      //x: azimuth
      //y: range
      //z: value
      attribute vec2 aPosition;
      attribute float aColor;
      uniform mat4 u_matrix;
      varying float color;

      void main() {
        color = aColor;
        gl_Position = u_matrix * vec4(aPosition.x,aPosition.y,0.0,1.0);
      }
    </script>
    <script type="x-shader/x-fragment" id="fragmentShader">
      precision mediump float;
      varying float color;
      uniform sampler2D u_texture;
      void main() {
        //gl_FragColor = vec4(0.0,color/60.0,0.0,1.0);
        float calcolor = (color)/(70.0);
        gl_FragColor = texture2D(u_texture,vec2(min(max(calcolor,0.0),1.0),0.0));
        //gl_FragColor = vec4(1.0,0.0,0.0,1.0);
      }
    </script>
    <script>
      //$.getJSON('./data/radar/KAMA_sub.json', function(data) {
      //  console.log(data);
      //})
    </script>
    <script src="scripts/demo-radar-script.js"></script>
  </body>  
</html>


